@import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap");
@import "tailwindcss";

/* Tailwind v4 Dark Mode Configuration */
@custom-selector :--dark .dark, .dark *;

:root {
    --background: #ffffff;
    --foreground: #171717;

    /* Editor Design System */
    --editor-bg: #ffffff;
    --editor-surface: rgba(255, 255, 255, 0.9);
    --editor-glass: rgba(255, 255, 255, 0.7);
    --editor-border: rgba(0, 0, 0, 0.08);
    --editor-shadow: rgba(0, 0, 0, 0.05);

    /* Neon Accents */
    --neon-violet: #8b5cf6;
    --neon-blue: #3b82f6;
    --neon-glow-violet: rgba(139, 92, 246, 0.3);
    --neon-glow-blue: rgba(59, 130, 246, 0.3);

    /* Typography */
    --font-editor: "Inter", -apple-system, BlinkMacSystemFont, sans-serif;
    --font-mono: "JetBrains Mono", "Courier New", monospace;

    /* Dynamic Theme Variables (controlled by ThemeContext) */
    --accent-color: #3b82f6;
    --accent-color-light: #3b82f6;
    --accent-color-dark: #60a5fa;
    --base-font-size: 16px;
    --density-scale: 1;
    --animation-duration: 0.3s;
    --transition-duration: 0.2s;
}

@theme inline {
    --color-background: var(--background);
    --color-foreground: var(--foreground);
    --font-sans: var(--font-geist-sans);
    --font-mono: var(--font-geist-mono);
}

/* Class-based dark mode */
.dark {
    --background: #050505;
    --foreground: #fafafa;

    /* Dark Mode Editor */
    --editor-bg: #050505;
    --editor-surface: rgba(10, 10, 10, 0.8);
    --editor-glass: rgba(20, 20, 20, 0.6);
    --editor-border: rgba(255, 255, 255, 0.08);
    --editor-shadow: rgba(0, 0, 0, 0.5);

    /* Enhanced neon glow in dark mode */
    --neon-glow-violet: rgba(139, 92, 246, 0.5);
    --neon-glow-blue: rgba(59, 130, 246, 0.5);
}

html,
body {
    background: var(--background);
    color: var(--foreground);
    font-family: var(--font-editor);
    font-size: var(--base-font-size);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    margin: 0;
    padding: 0;
}

/* Custom Scrollbar */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: transparent;
}

::-webkit-scrollbar-thumb {
    background: rgba(100, 100, 100, 0.3);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: rgba(100, 100, 100, 0.5);
}

@media (prefers-color-scheme: dark) {
    ::-webkit-scrollbar-thumb {
        background: rgba(255, 255, 255, 0.1);
    }

    ::-webkit-scrollbar-thumb:hover {
        background: rgba(255, 255, 255, 0.2);
    }
}

/* Glassmorphic Utility Classes */
.glass {
    background: var(--editor-glass);
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
    border: 1px solid var(--editor-border);
}

.glass-strong {
    background: var(--editor-surface);
    backdrop-filter: blur(40px) saturate(180%);
    -webkit-backdrop-filter: blur(40px) saturate(180%);
    border: 1px solid var(--editor-border);
}

.neon-glow-violet {
    box-shadow: 0 0 20px var(--neon-glow-violet);
}

.neon-glow-blue {
    box-shadow: 0 0 20px var(--neon-glow-blue);
}

/* Editor-specific animations */
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(10px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes pulse-glow {
    0%,
    100% {
        opacity: 0.5;
    }

    50% {
        opacity: 1;
    }
}

@keyframes cursor-blink {
    0%,
    49% {
        opacity: 1;
    }

    50%,
    100% {
        opacity: 0;
    }
}

@keyframes shimmer {
    0% {
        background-position: -1000px 0;
    }

    100% {
        background-position: 1000px 0;
    }
}

.animate-fade-in-up {
    animation: fadeInUp 0.3s ease-out;
}

.animate-pulse-glow {
    animation: pulse-glow 2s ease-in-out infinite;
}

.animate-cursor-blink {
    animation: cursor-blink 1s step-end infinite;
}

/* Selection styles */
::selection {
    background: var(--neon-violet);
    color: white;
}

::-moz-selection {
    background: var(--neon-violet);
    color: white;
}

/* Focus styles */
*:focus {
    outline: none;
}

*:focus-visible {
    outline: 2px solid var(--neon-violet);
    outline-offset: 2px;
}

/* Grid Pattern Background */
.bg-grid-pattern {
    background-image:
        linear-gradient(rgba(100, 100, 100, 0.1) 1px, transparent 1px),
        linear-gradient(90deg, rgba(100, 100, 100, 0.1) 1px, transparent 1px);
    background-size: 20px 20px;
}

.dark .bg-grid-pattern {
    background-image:
        linear-gradient(rgba(255, 255, 255, 0.05) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255, 255, 255, 0.05) 1px, transparent 1px);
    background-size: 20px 20px;
}
